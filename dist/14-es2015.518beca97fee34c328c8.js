(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{RUGS:function(t,e,n){"use strict";n.r(e),n.d(e,"RegionModule",(function(){return q}));var a=n("ofXK"),o=n("tyNb"),i=n("M9IT"),c=n("2Vo4"),r=n("LRne"),s=n("vkgz"),l=n("SxV6"),d=n("JIr8"),b=n("nYR2");class h{constructor(t){this.categoriesService=t,this.categories=new c.a([]),this.loadingSubject=new c.a(!1),this.metaSubject=new c.a({}),this.mata$=this.metaSubject.asObservable(),this.loading$=this.loadingSubject.asObservable(),this.empty=!1}connect(t){return this.categories.pipe(Object(s.a)(t=>{this.empty=!t.length}))}disconnect(t){this.categories.complete(),this.loadingSubject.complete()}loadCategories(t,e){this.loadingSubject.next(!0),this.categoriesService.getAllRegions("").pipe(Object(l.a)(),Object(d.a)(()=>Object(r.a)([])),Object(b.a)(()=>this.loadingSubject.next(!1))).subscribe(t=>{this.categories.next(t.body.regions),console.log(t.body),this.metaSubject.next(t.body.length)})}}var g=n("0NP1"),m=n("dOEP"),u=n("XNiG"),p=n("xgIS"),f=n("1G5W"),C=n("Kj3r"),O=n("/uUt"),M=n("U/V2"),w=n("nVM4"),P=n("LkB2"),x=n("fXoL"),_=n("0IaG"),v=n("NFeN"),y=n("ENQI"),S=n("+0xr"),D=n("bTqV"),X=n("Qu3c"),W=n("e5sC"),j=n("sYmb");const k=["customLoadingTemplate"],N=["searchInput"];function R(t,e){1&t&&(x.Xb(0,"mat-header-cell"),x.Mc(1),x.Wb()),2&t&&(x.Db(1),x.Oc(" ","number",""))}function I(t,e){if(1&t&&(x.Xb(0,"mat-cell"),x.Xb(1,"div",29),x.Mc(2),x.Wb(),x.Wb()),2&t){const t=e.index,n=x.nc();x.Db(2),x.Oc(" ",10*(n.paginator.pageIndex+1)-(10-(t+1))," ")}}function A(t,e){1&t&&(x.Xb(0,"mat-header-cell"),x.Mc(1),x.Wb()),2&t&&(x.Db(1),x.Oc(" ","Area Name",""))}function z(t,e){if(1&t&&(x.Xb(0,"mat-cell",30),x.Mc(1),x.Wb()),2&t){const t=e.$implicit;x.Db(1),x.Oc(" ",t.name," ")}}function K(t,e){1&t&&(x.Xb(0,"mat-header-cell"),x.Mc(1),x.Wb()),2&t&&(x.Db(1),x.Oc(" ","Area Name",""))}function T(t,e){if(1&t&&(x.Xb(0,"mat-cell",30),x.Mc(1),x.Wb()),2&t){const t=e.$implicit;x.Db(1),x.Oc(" ",null==t||null==t.translation||null==t.translation.ar?null:t.translation.ar.name," ")}}function V(t,e){1&t&&(x.Xb(0,"mat-header-cell"),x.Mc(1),x.Wb()),2&t&&(x.Db(1),x.Nc(" Actions"))}function $(t,e){if(1&t){const t=x.Yb();x.Xb(0,"mat-cell"),x.Xb(1,"button",31),x.jc("click",(function(){x.Dc(t);const n=e.$implicit;return x.nc().deleteCategory(n)})),x.Xb(2,"mat-icon",32),x.Mc(3,"delete"),x.Wb(),x.Wb(),x.Xb(4,"button",31),x.jc("click",(function(){x.Dc(t);const n=e.$implicit;return x.nc().updateCategory(n)})),x.Xb(5,"mat-icon",33),x.Mc(6,"edit"),x.Wb(),x.Wb(),x.Wb()}2&t&&(x.Db(2),x.tc("matTooltip","Delete"),x.Db(3),x.tc("matTooltip","Edit"))}function U(t,e){1&t&&x.Sb(0,"mat-header-row")}function E(t,e){1&t&&x.Sb(0,"mat-row")}function L(t,e){1&t&&(x.Vb(0),x.Sb(1,"app-spinner"),x.Xb(2,"h5"),x.Mc(3),x.oc(4,"translate"),x.Wb(),x.Ub()),2&t&&(x.Db(3),x.Nc(x.pc(4,1,"load")))}function F(t,e){1&t&&(x.Xb(0,"div"),x.Xb(1,"h5"),x.Mc(2),x.oc(3,"translate"),x.Wb(),x.Wb()),2&t&&(x.Db(2),x.Oc(" ",x.pc(3,1,"No Categories Found ")," "))}const H=[{path:"",component:(()=>{class t{constructor(t,e,n,a,o){this.dialogRef=t,this.categoriesService=e,this.notification=n,this.changeDetectorRefs=a,this.pushNotificationService=o,this.dataSource=new h(this.categoriesService),this.$destroy=new u.a,this.displayedColumns=["EnName","ArName","Actions"]}ngOnInit(){this.RefreshServiceData(),this.pushNotificationService.listen().subscribe(t=>{this.notification.UploadNotification(t.notification.body)})}addNewCategory(){this.dialogRef.open(w.a,{width:"60%",disableClose:!0,autoFocus:!0,position:{left:"30%"}}).afterClosed().subscribe(t=>{this.loadPage()})}deleteCategory(t){this.categoriesService.deleteArea(t._id).subscribe(t=>{200===t.status&&(this.notification.successNotification("Deleted"),this.loadPage())},t=>{this.notification.errorNotification(t.error.message)})}updateCategory(t){this.dialogRef.open(M.a,{width:"60%",data:t,disableClose:!0,autoFocus:!0,position:{left:"30%"}}).afterClosed().subscribe(()=>{this.loadPage()})}RefreshServiceData(){this.dataSource=new h(this.categoriesService),this.dataSource.loadCategories(0,this.search.nativeElement.value),this.dataSource.mata$.pipe(Object(f.a)(this.$destroy)).subscribe(t=>this.categories=t),this.changeDetectorRefs.detectChanges(),this.loadingTemplate=this.loadingTemplate?null:this.customLoadingTemplate}ngAfterViewInit(){this.paginator.page.pipe(Object(s.a)(()=>this.loadPage())).subscribe(),Object(p.a)(this.search.nativeElement,"keyup").pipe(Object(C.a)(150),Object(O.a)(),Object(s.a)(()=>{this.paginator.pageIndex=0,this.loadPage()})).subscribe()}loadPage(){this.dataSource.loadCategories(this.paginator.pageIndex,this.search.nativeElement.value)}}return t.\u0275fac=function(e){return new(e||t)(x.Rb(_.b),x.Rb(g.a),x.Rb(m.a),x.Rb(x.h),x.Rb(P.a))},t.\u0275cmp=x.Lb({type:t,selectors:[["app-categories"]],viewQuery:function(t,e){var n;1&t&&(x.Ic(i.a,!0),x.Rc(k,!0),x.Ic(N,!0)),2&t&&(x.Ac(n=x.kc())&&(e.paginator=n.first),x.Ac(n=x.kc())&&(e.customLoadingTemplate=n.first),x.Ac(n=x.kc())&&(e.search=n.first))},decls:42,vars:16,consts:[[1,"panel-header","panel-header-sm"],[1,"main-content"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-title-container"],[1,"card-title"],[1,"card-action"],[1,"search-container"],["id","searchright","type","search","name","q","placeholder","Search by name",1,"search","expandright"],["searchInput",""],["for","searchright",1,"button","searchbutton"],["isDisabled","no",3,"name","isClicked"],[1,"card-body"],[1,"tabel__container",3,"hidden"],[3,"dataSource"],["matColumnDef","position"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","EnName"],["class","date-direction",4,"matCellDef"],["matColumnDef","ArName"],["matColumnDef","Actions"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",2,"direction","ltr",3,"length","pageSize"],[1,"no__record"],[4,"ngIf"],[1,"cell-content"],[1,"date-direction"],["mat-icon-button","",3,"click"],["matTooltipPosition","above",3,"matTooltip"],["matTooltipPosition","above",2,"color","#38b5f1",3,"matTooltip"]],template:function(t,e){1&t&&(x.Sb(0,"div",0),x.Xb(1,"div",1),x.Xb(2,"div",2),x.Xb(3,"div",3),x.Xb(4,"div",4),x.Xb(5,"div",5),x.Xb(6,"div",6),x.Xb(7,"h4",7),x.Mc(8),x.Wb(),x.Wb(),x.Xb(9,"div",8),x.Xb(10,"div",9),x.Sb(11,"input",10,11),x.Xb(13,"label",12),x.Xb(14,"mat-icon"),x.Mc(15,"search"),x.Wb(),x.Wb(),x.Wb(),x.Wb(),x.Xb(16,"div"),x.Xb(17,"app-add-button",13),x.jc("isClicked",(function(){return e.addNewCategory()})),x.Wb(),x.Wb(),x.Wb(),x.Xb(18,"div",14),x.Xb(19,"div",15),x.oc(20,"async"),x.Xb(21,"mat-table",16),x.Vb(22,17),x.Kc(23,R,2,1,"mat-header-cell",18),x.Kc(24,I,3,1,"mat-cell",19),x.Ub(),x.Vb(25,20),x.Kc(26,A,2,1,"mat-header-cell",18),x.Kc(27,z,2,1,"mat-cell",21),x.Ub(),x.Vb(28,22),x.Kc(29,K,2,1,"mat-header-cell",18),x.Kc(30,T,2,1,"mat-cell",21),x.Ub(),x.Vb(31,23),x.Kc(32,V,2,1,"mat-header-cell",18),x.Kc(33,$,7,2,"mat-cell",19),x.Ub(),x.Kc(34,U,1,0,"mat-header-row",24),x.Kc(35,E,1,0,"mat-row",25),x.Wb(),x.Sb(36,"mat-paginator",26),x.Wb(),x.Xb(37,"div",27),x.Kc(38,L,5,3,"ng-container",28),x.oc(39,"async"),x.Kc(40,F,4,3,"div",28),x.oc(41,"async"),x.Wb(),x.Wb(),x.Wb(),x.Wb(),x.Wb(),x.Wb()),2&t&&(x.Db(8),x.Nc("All Regions"),x.Db(9),x.uc("name","+"),x.Db(2),x.tc("hidden",x.pc(20,10,e.dataSource.loading$)||e.dataSource.empty),x.Db(2),x.tc("dataSource",e.dataSource),x.Db(13),x.tc("matHeaderRowDef",e.displayedColumns),x.Db(1),x.tc("matRowDefColumns",e.displayedColumns),x.Db(1),x.tc("length",e.categories)("pageSize",10),x.Db(2),x.tc("ngIf",x.pc(39,12,e.dataSource.loading$)),x.Db(2),x.tc("ngIf",!x.pc(41,14,e.dataSource.loading$)&&e.dataSource.empty))},directives:[v.a,y.a,S.j,S.c,S.e,S.b,S.g,S.i,i.a,a.m,S.d,S.a,D.b,X.a,S.f,S.h,W.a],pipes:[a.b,j.c],styles:["","[_nghost-%COMP%]   .tabel__container[_ngcontent-%COMP%]{overflow:auto}[_nghost-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-action[_ngcontent-%COMP%]{margin-left:auto}[_nghost-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-action[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-weight:600}[dir=rtl]   [_nghost-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-action[_ngcontent-%COMP%]{margin-right:auto;margin-left:0}[_nghost-%COMP%]   .mat-header-row[_ngcontent-%COMP%], [_nghost-%COMP%]   .mat-row[_ngcontent-%COMP%]{max-height:550px;transition:max-height .15s ease-in-out;width:100%}[_nghost-%COMP%]   .mat-table[_ngcontent-%COMP%]{min-width:730px}[_nghost-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{font-family:Montserrat,Helvetica Neue,Arial,sans-serif}[dir=rtl]   [_nghost-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{font-family:Cairo,sans-serif}[_nghost-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{font-family:Montserrat,Helvetica Neue,Arial,sans-serif;transition:all .5 ease-in-out}[_nghost-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-column-name[_ngcontent-%COMP%]{text-transform:capitalize}[_nghost-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   .mat-column-name[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;white-space:nowrap;width:120px;overflow:hidden;text-overflow:ellipsis}[_nghost-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:hover{background:#ddd}  .mat-tooltip, [dir=rtl]   [_nghost-%COMP%]   .mat-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{font-family:Cairo,sans-serif}  .mat-tooltip{font-size:18px;text-transform:capitalize}.mat-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Cairo,sans-serif!important;font-weight:600}.mat-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ed1c24}  .mat-tabel{background:#fff!important;min-width:730px}  .mat-header-cell{color:#ed1c24}  .mat-cell{border-color:#e3e3e3;color:#2c2c2c}  .mat-cell button span mat-icon{color:#ed1c24}  .mat-cell img{width:40px;height:40px;box-shadow:0 4px 20px 0 rgba(0,0,0,.14),0 7px 10px -5px rgba(255,152,0,.4)}  .mat-header-cell{border-color:#ddd;font-size:1em;font-weight:700}  .activeRow{background:#f5f5f5;transition:all .3s ease-in-out}  .no__record{min-width:100%;transition:max-height .15s ease-in-out;display:flex;align-items:center;justify-content:center;flex-direction:column;width:100%}  .no__record h5{text-align:center;position:relative;line-height:2em}  .button{display:inline-block;margin:0 5px;background:#ed1c24;font-size:14px;padding-left:32px;padding-right:32px;height:45px;line-height:50px;text-align:center;color:#fff;text-decoration:none;cursor:pointer;-moz-user-select:none;-webkit-user-select:none;user-select:none;box-shadow:0 8px 15px rgba(0,0,0,.1)}  .button:hover{transition-duration:.4s;-moz-transition-duration:.4s;-webkit-transition-duration:.4s;-o-transition-duration:.4s}  .mglass{display:inline-block;pointer-events:none;-webkit-transform:rotate(-45deg);-moz-transform:rotate(-45deg);-o-transform:rotate(-45deg);-ms-transform:rotate(-45deg)}  .searchbutton{position:absolute;font-size:2.3em;width:100%;margin:0;padding:0}  .search:focus+.searchbutton{background-color:#fff;color:#000}  .search,   .search:focus+.searchbutton{transition-duration:.4s;-moz-transition-duration:.4s;-webkit-transition-duration:.4s;-o-transition-duration:.4s}  .search{position:absolute;left:49px;background:#fff;outline:none;border:none;padding:0;width:0;height:100%;border-top-left-radius:5px;border-bottom-left-radius:5px;z-index:10;box-shadow:0 8px 15px rgba(0,0,0,.1)}  .search:focus{width:363px;padding:0 16px 0 0}  .expandright{left:auto;right:49px}  .expandright:focus{padding:0 0 0 16px}@media screen and (min-width:767px){.search-container[_ngcontent-%COMP%]{position:relative;display:inline-block;margin:0 10px;height:45px;width:50px;vertical-align:bottom}.search-container-xs[_ngcontent-%COMP%]{display:none}}@media screen and (max-width:766px){.search-container-xs[_ngcontent-%COMP%]{display:block}.search-container[_ngcontent-%COMP%]{display:none}}"]}),t})()}];let G=(()=>{class t{}return t.\u0275mod=x.Pb({type:t}),t.\u0275inj=x.Ob({factory:function(e){return new(e||t)},imports:[[o.h.forChild(H)],o.h]}),t})();var J=n("c/ZV"),Q=n("3Pt+"),Y=n("PCNd");let q=(()=>{class t{}return t.\u0275mod=x.Pb({type:t}),t.\u0275inj=x.Ob({factory:function(e){return new(e||t)},imports:[[a.c,G,J.a,Q.r,Y.a]]}),t})()}}]);